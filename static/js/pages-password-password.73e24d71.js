(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-password-password"],{3426:function(n,e,t){"use strict";var o=t("4243"),i=t.n(o);i.a},4243:function(n,e,t){var o=t("acad");"string"===typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);var i=t("4f06").default;i("faa564dc",o,!0,{sourceMap:!1,shadowMode:!1})},7047:function(n,e,t){"use strict";t.r(e);var o=t("9d49"),i=t("f013");for(var a in i)["default"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(a);t("3426");var s,c=t("f0c5"),r=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"fecf7ee6",null,!1,o["a"],s);e["default"]=r.exports},"9d49":function(n,e,t){"use strict";var o;t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return o}));var i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-uni-view",{staticClass:"content"},[t("v-uni-input",{attrs:{type:"text",placeholder:"用户名/邮箱/手机号"},model:{value:n.username,callback:function(e){n.username=e},expression:"username"}}),t("v-uni-input",{attrs:{type:"text",password:"true",placeholder:"密码"},model:{value:n.password,callback:function(e){n.password=e},expression:"password"}}),t("v-uni-view",{staticClass:"row"},[t("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.permissionChange.apply(void 0,arguments)}}},[t("v-uni-label",[t("v-uni-checkbox",{attrs:{value:"needPermission"}}),t("v-uni-text",[n._v("启用Permission，一般在管理后台需要传递此参数")])],1)],1)],1),t("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.register.apply(void 0,arguments)}}},[n._v("注册")]),t("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.login.apply(void 0,arguments)}}},[n._v("登录")]),t("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.updatePwd.apply(void 0,arguments)}}},[n._v("修改密码")]),t("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.resetPwd.apply(void 0,arguments)}}},[n._v("重设密码")]),t("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.checkLoginUser.apply(void 0,arguments)}}},[n._v("查看登录用户")])],1)},a=[]},acad:function(n,e,t){var o=t("4bad");e=o(!1),e.push([n.i,".content[data-v-fecf7ee6]{padding:15px}.content uni-input[data-v-fecf7ee6]{height:46px;border:solid 1px #ddd;border-radius:5px;margin-bottom:15px;padding:0 15px}.content uni-button[data-v-fecf7ee6]{margin-bottom:15px}.content uni-navigator[data-v-fecf7ee6]{display:inline-block;color:#007aff;border-bottom:solid 1px #007aff;font-size:16px;line-height:24px;margin-bottom:15px}.content .row[data-v-fecf7ee6]{margin-bottom:15px}",""]),n.exports=e},cc7a:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t("c975");var o={data:function(){return{username:"",password:"",needPermission:!1}},methods:{permissionChange:function(n){this.needPermission=n.detail.value.indexOf("needPermission")>-1},checkLoginUser:function(){n.callFunction({name:"user-center",data:{action:"getUserInfo"},success:function(n){uni.showModal({showCancel:!1,content:JSON.stringify(n.result)})},fail:function(n){console.error(n),uni.showModal({showCancel:!1,content:"获取失败，请稍后再试"})}})},register:function(){n.callFunction({name:"user-center",data:{action:"register",params:{username:this.username,password:this.password,needPermission:this.needPermission}},success:function(n){uni.showModal({showCancel:!1,content:JSON.stringify(n.result)}),uni.setStorageSync("uni_id_token",n.result.token),uni.setStorageSync("uni_id_token_expired",n.result.tokenExpired)},fail:function(n){console.error(n),uni.showModal({showCancel:!1,content:"注册失败，请稍后再试"})}})},login:function(){n.callFunction({name:"user-center",data:{action:"login",params:{username:this.username,password:this.password,needPermission:this.needPermission}},success:function(n){uni.showModal({showCancel:!1,content:JSON.stringify(n.result)}),uni.setStorageSync("uni_id_token",n.result.token),uni.setStorageSync("uni_id_token_expired",n.result.tokenExpired)},fail:function(n){console.error(n),uni.showModal({showCancel:!1,content:"登录失败，请稍后再试"})}})},updatePwd:function(){n.callFunction({name:"user-center",data:{action:"updatePwd",params:{oldPassword:"123456",newPassword:"abcdef"}},success:function(n){uni.showModal({showCancel:!1,content:JSON.stringify(n.result)})},fail:function(n){console.error(n),uni.showModal({showCancel:!1,content:"修改失败，请稍后再试"})}})},resetPwd:function(){n.callFunction({name:"user-center",data:{action:"resetPwd"},success:function(n){0===n.result.code?uni.showModal({showCancel:!1,content:"密码已重置为123456"}):uni.showModal({showCancel:!1,content:JSON.stringify(n.result)})},fail:function(n){console.error(n),uni.showModal({showCancel:!1,content:"重置失败，请稍后再试"})}})}}};e.default=o}).call(this,t("a9ff")["default"])},f013:function(n,e,t){"use strict";t.r(e);var o=t("cc7a"),i=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(a);e["default"]=i.a}}]);